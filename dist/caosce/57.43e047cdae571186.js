"use strict";(self.webpackChunkcaosce=self.webpackChunkcaosce||[]).push([[57],{3057:(Oc,Se,u)=>{u.r(Se),u.d(Se,{CandidateModule:()=>Ic});var E=u(9808),N=u(5206),$=u(8723),n=u(5e3),re=u(5318);const $t=function(){return["/candidate/login"]};let Vt=(()=>{class t{constructor(e,r){this.router=e,this.candidateAccountService=r}ngOnInit(){this.currentCandidate=this.candidateAccountService.getUser(),this.timerSub$=(0,$.H)(0,8e3).subscribe(e=>{this.router.navigate(["candidate/login"])})}ngOnDestroy(){clearTimeout(this.timeOut),this.timerSub$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(N.F0),n.\u0275\u0275directiveInject(re.G))},t.\u0275cmp=n.\u0275\u0275defineComponent({type:t,selectors:[["app-end-exam-page"]],decls:22,vars:4,consts:[[1,"container","d-flex","justify-content-center","mt-5"],[1,"col-md-5"],[1,"card"],[1,"card-body","p-0",2,"height","fit-content"],[1,"d-flex","align-items-center","justify-content-between","mb-4","bg-danger","p-4"],[1,"mb-0","text-light"],[1,"btn","btn-outline-light","btn-sm",3,"routerLink"],[1,"d-flex","justify-content-center","mb-5"],["src","assets/images/users/avatar-7.jpg","alt","candidate photo","width","80px","height","80px",2,"border-radius","100%"],[1,"text-center"],[1,"card","m-3","p-2"],[1,"d-flex","justify-content-start","align-items-center","align-content-center","card-footer","foot-bar"],["src","/assets/images/multilent-logo.png","alt","multilent-logo",2,"height","30px"]],template:function(e,r){1&e&&(n.\u0275\u0275elementStart(0,"div",0),n.\u0275\u0275elementStart(1,"div",1),n.\u0275\u0275elementStart(2,"div",2),n.\u0275\u0275elementStart(3,"div",3),n.\u0275\u0275elementStart(4,"div",4),n.\u0275\u0275elementStart(5,"h5",5),n.\u0275\u0275text(6,"Exam Ended"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(7,"a",6),n.\u0275\u0275text(8,"Back"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(9,"div",7),n.\u0275\u0275element(10,"img",8),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(11,"p",9),n.\u0275\u0275text(12," You have completed your examination, kindly leave the hall quietly "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(13,"div",10),n.\u0275\u0275elementStart(14,"strong"),n.\u0275\u0275elementStart(15,"p"),n.\u0275\u0275text(16),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(17,"strong"),n.\u0275\u0275elementStart(18,"p"),n.\u0275\u0275text(19),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(20,"div",11),n.\u0275\u0275element(21,"img",12),n.\u0275\u0275elementEnd()),2&e&&(n.\u0275\u0275advance(7),n.\u0275\u0275property("routerLink",n.\u0275\u0275pureFunction0(3,$t)),n.\u0275\u0275advance(9),n.\u0275\u0275textInterpolate1("Name: ",r.currentCandidate.name,""),n.\u0275\u0275advance(3),n.\u0275\u0275textInterpolate1("Exam no.: ",r.currentCandidate.examNumber,""))},directives:[N.yS],styles:[".foot-bar[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%}"]}),t})();var Ht=u(5226),P=u.n(Ht);const Qt=["(A)","(B)","(C)","(D)","(E)","(F)","(G)"];var Ut=u(591);let oe=(()=>{class t{constructor(){this.currentItemIndex=0,this.previousResponses=[],this.currentQuestionSubject=new Ut.X(null),this.currentQuestion$=this.currentQuestionSubject.asObservable()}publishCurrententQuestion(e){this.currentQuestionSubject.next(e)}getCandidateProcedureItems(){return this.candidateProcedureItems=this.candidateExamDetails.candidateProcedureItems,this.candidateProcedureItems}getCurrentQuestion(){return this.currentQuestion=this.candidateExamDetails.candidateProcedureItems[this.currentItemIndex],this.currentQuestion.currentQuestionNumber=this.currentItemIndex,this.publishCurrententQuestion(this.currentQuestion),this.currentQuestion}nextQuestion(){this.currentItemIndex>=this.candidateExamDetails.candidateProcedureItems.length||(console.log("Next Question called"),this.currentQuestion=this.candidateExamDetails.candidateProcedureItems[++this.currentItemIndex],this.currentQuestion.currentQuestionNumber=this.currentItemIndex,this.publishCurrententQuestion(this.currentQuestion))}previousQuestion(){0!=this.currentItemIndex&&(this.currentQuestion=this.candidateExamDetails.candidateProcedureItems[--this.currentItemIndex],this.currentQuestion.currentQuestionNumber=this.currentItemIndex,this.publishCurrententQuestion(this.currentQuestion))}navigateTo(e){this.currentQuestion=this.candidateExamDetails.candidateProcedureItems[e],this.currentItemIndex=e,this.currentQuestion.currentQuestionNumber=this.currentItemIndex,this.publishCurrententQuestion(this.currentQuestion)}getSavedResponses(){return this.candidateProcedureItems.forEach(e=>{null!=e.selectedOption&&this.previousResponses.push({itemId:e.itemId,optionId:e.selectedOption})}),this.previousResponses}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Kt(t,i){if(1&t){const e=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275elementStart(1,"div",9),n.\u0275\u0275elementStart(2,"span",10),n.\u0275\u0275text(3),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(4,"div",11),n.\u0275\u0275elementStart(5,"input",12),n.\u0275\u0275listener("click",function(){const s=n.\u0275\u0275restoreView(e).$implicit,a=n.\u0275\u0275nextContext(2);return a.captureResponse(s.id,a.currentQuestion.itemId)}),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(6,"span",13),n.\u0275\u0275listener("click",function(){const s=n.\u0275\u0275restoreView(e).$implicit,a=n.\u0275\u0275nextContext(2);return a.captureResponse(s.id,a.currentQuestion.itemId)}),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementContainerEnd()}if(2&t){const e=i.$implicit,r=i.index,o=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(3),n.\u0275\u0275textInterpolate1(" ",o.alphabetList[r].toUpperCase()," "),n.\u0275\u0275advance(2),n.\u0275\u0275propertyInterpolate("value",e.option),n.\u0275\u0275property("checked",o.currentQuestion.selectedOption==e.id),n.\u0275\u0275advance(1),n.\u0275\u0275property("innerHTML",e.option,n.\u0275\u0275sanitizeHtml)}}function zt(t,i){if(1&t&&(n.\u0275\u0275elementStart(0,"div",1),n.\u0275\u0275elementStart(1,"div",2),n.\u0275\u0275elementStart(2,"div",3),n.\u0275\u0275element(3,"p",4),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(4,"div",5),n.\u0275\u0275elementStart(5,"div",6),n.\u0275\u0275elementStart(6,"div",7),n.\u0275\u0275template(7,Kt,7,4,"ng-container",8),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd()),2&t){const e=n.\u0275\u0275nextContext();n.\u0275\u0275advance(3),n.\u0275\u0275property("innerHTML",e.currentQuestion.question,n.\u0275\u0275sanitizeHtml),n.\u0275\u0275advance(4),n.\u0275\u0275property("ngForOf",e.currentQuestion.options)}}let Ie=(()=>{class t{constructor(e){this.candidateExamItemsService=e,this.alphabetList=Qt,this.candidateResponses=[]}ngOnInit(){this.candidateExamItemsService.currentQuestion$.subscribe(e=>{this.currentQuestion=e,this.currentQuestionNumber=e.currentQuestionNumber}),this.getSavedResponses()}getSavedResponses(){this.candidateExamItemsService.getSavedResponses().forEach(e=>{this.candidateResponses.push(e)})}captureResponse(e,r){this.currentQuestion.selectedOption=e;let o={optionId:e,itemId:r};this.attemptedBefore(o.itemId)?this.candidateResponses.forEach(s=>{s.itemId===o.itemId&&(s.optionId=o.optionId)}):this.candidateResponses.push(o),this.getSelectedOptions()}attemptedBefore(e){return null!=this.candidateResponses.find(o=>o.itemId===e)}getSelectedOptions(){return console.log(this.candidateResponses),this.candidateResponses}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(oe))},t.\u0275cmp=n.\u0275\u0275defineComponent({type:t,selectors:[["app-standard-choice"]],decls:1,vars:1,consts:[["class","card p-2","style","height: 70vh",4,"ngIf"],[1,"card","p-2",2,"height","70vh"],[1,"row"],[1,"col-xxl-12","col-lg-12","col-md-12","col-sm-12"],[1,"fw-normal","lh-2",2,"/* height","55vh","*/\n          font-size","16px","overflow-y","auto","max-height","30vh",3,"innerHTML"],[1,"col-lg-12"],[1,"card"],[1,"card-body","px-0",2,"overflow-y","auto","max-height","30%"],[4,"ngFor","ngForOf"],[1,"d-flex"],[1,"mx-2","fw-semibold"],[1,"form-check","mb-3"],["type","radio","name","q",1,"form-check-input",3,"checked","value","click"],["for","option",1,"form-check-label","align-center",2,"cursor","pointer",3,"innerHTML","click"]],template:function(e,r){1&e&&n.\u0275\u0275template(0,zt,8,2,"div",0),2&e&&n.\u0275\u0275property("ngIf",null!=r.currentQuestion)},directives:[E.NgIf,E.NgForOf],styles:[".foot-bar[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%}"]}),t})(),we=(()=>{class t{constructor(){}startTimer(){this.timerSub$=(0,$.H)(0,3e4).subscribe(e=>{})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var se=u(2340),Gt=u(520);let De=(()=>{class t{constructor(e){this.http=e}startExam(e,r){return this.http.get(`http://${se.N.developmentIP}/caosce/examdelivery/api/candidate/exam/start/procedure/${e}/candidate/${r}`,{withCredentials:!0})}autoSaveCandidateExam(e,r){return this.http.post(`http://${se.N.developmentIP}/caosce/examdelivery/api/candidate/exam/procedure/${e}/autosave_exam`,r,{withCredentials:!0})}endExam(e,r,o){return this.http.post(`http://${se.N.developmentIP}/caosce/examdelivery/api/candidate/exam/procedure/${e}/end_exam/${r}`,o,{withCredentials:!0})}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275inject(Gt.eN))},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Oe=u(1024);function Wt(t,i){if(1&t){const e=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275elementStart(1,"button",32),n.\u0275\u0275listener("click",function(){const s=n.\u0275\u0275restoreView(e).index;return n.\u0275\u0275nextContext(2).navigator(s)}),n.\u0275\u0275text(2),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementContainerEnd()}if(2&t){const e=i.$implicit,r=i.index,o=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(1),n.\u0275\u0275styleProp("background-color",o.checkIfAttempted(e)),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",r+1," ")}}function Zt(t,i){if(1&t){const e=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"button",33),n.\u0275\u0275listener("click",function(){n.\u0275\u0275restoreView(e);const o=n.\u0275\u0275nextContext(2),s=n.\u0275\u0275reference(2);return o.openEndExamConfirmationDialog(s)}),n.\u0275\u0275text(1," End exam "),n.\u0275\u0275elementEnd()}}function Yt(t,i){if(1&t){const e=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"div",2),n.\u0275\u0275elementStart(1,"div",3),n.\u0275\u0275elementStart(2,"div",4),n.\u0275\u0275elementStart(3,"div",5),n.\u0275\u0275element(4,"img",6),n.\u0275\u0275elementStart(5,"div",7),n.\u0275\u0275elementStart(6,"p",8),n.\u0275\u0275text(7),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(8,"p",9),n.\u0275\u0275text(9),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(10,"div",10),n.\u0275\u0275template(11,Wt,3,3,"ng-container",11),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(12,"p",12),n.\u0275\u0275text(13),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(14,"div",4),n.\u0275\u0275elementStart(15,"div",13),n.\u0275\u0275elementStart(16,"div",14),n.\u0275\u0275elementStart(17,"p",15),n.\u0275\u0275text(18),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(19,"div",4),n.\u0275\u0275elementStart(20,"div",16),n.\u0275\u0275elementStart(21,"div",17),n.\u0275\u0275element(22,"i",18),n.\u0275\u0275elementStart(23,"span",19),n.\u0275\u0275text(24),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(25,"div",20),n.\u0275\u0275elementStart(26,"p",21),n.\u0275\u0275text(27),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(28,"div",22),n.\u0275\u0275template(29,Zt,2,0,"button",23),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(30,"app-standard-choice"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(31,"footer",24),n.\u0275\u0275element(32,"img",25),n.\u0275\u0275elementStart(33,"div",26),n.\u0275\u0275elementStart(34,"button",27),n.\u0275\u0275listener("click",function(){return n.\u0275\u0275restoreView(e),n.\u0275\u0275nextContext().previousQuestion()}),n.\u0275\u0275elementStart(35,"div",28),n.\u0275\u0275element(36,"i",29),n.\u0275\u0275text(37," Previous Question "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(38,"button",30),n.\u0275\u0275listener("click",function(){return n.\u0275\u0275restoreView(e),n.\u0275\u0275nextContext().nextQuestion()}),n.\u0275\u0275elementStart(39,"div",28),n.\u0275\u0275text(40," Next Question "),n.\u0275\u0275element(41,"i",31),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd()}if(2&t){const e=n.\u0275\u0275nextContext();n.\u0275\u0275advance(7),n.\u0275\u0275textInterpolate1(" ",e.currentCandidate.name," "),n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate1(" ",e.currentCandidate.examNumber," "),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngForOf",e.questionIDs),n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate1(" Question ",e.currentQuestionNumber+1,". "),n.\u0275\u0275advance(5),n.\u0275\u0275textInterpolate2(" ",e.currentCandidate.programName," / ",e.candidateExamDetails.procedureName," "),n.\u0275\u0275advance(6),n.\u0275\u0275textInterpolate1(" ",e.displayTimerText()," "),n.\u0275\u0275advance(3),n.\u0275\u0275textInterpolate2(" Attemted ",e.attemptedQuestions.length," of ",e.itemsLength," "),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",e.displayEndExamButton()),n.\u0275\u0275advance(5),n.\u0275\u0275property("disabled",0==e.currentQuestionNumber),n.\u0275\u0275advance(4),n.\u0275\u0275property("disabled",e.currentQuestionNumber+1==e.itemsLength)}}function qt(t,i){if(1&t){const e=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"div",34),n.\u0275\u0275elementStart(1,"h4",35),n.\u0275\u0275text(2,"Are you sure you want to end this assessment?"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(3,"div",3),n.\u0275\u0275elementStart(4,"p",36),n.\u0275\u0275text(5," You won't be able to revert this! "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(6,"div",37),n.\u0275\u0275elementStart(7,"button",38),n.\u0275\u0275listener("click",function(){return n.\u0275\u0275restoreView(e).$implicit.close("Close click")}),n.\u0275\u0275text(8," No, Cancel "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(9,"button",39),n.\u0275\u0275listener("click",function(){const s=n.\u0275\u0275restoreView(e).$implicit;return n.\u0275\u0275nextContext().endExamTimer(!1),s.close("Close click")}),n.\u0275\u0275text(10," Yes, End Exam "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd()}}let Jt=(()=>{class t{constructor(e,r,o,s,a,l){this.router=e,this.timeService=r,this.candidateExamItemsService=o,this.candidateAccountService=s,this.candidateExamService=a,this.modalService=l,this.currentQuestionNumber=0,this.keyPressed="",this.shortcutKeys=["a","b","c","d"],this.attemptedQuestions=[],this.isAssessmentOn=!1,this.questionIDs=[],this.examEnded=!1,this.processingEndExam=!1}handleKeyboardEvent(e){this.keyPressed=e.key,this.useShortcut()}ngOnInit(){this.candidateExamItemsService.getCurrentQuestion(),this.currentQuestionNumber=this.candidateExamItemsService.currentQuestion.currentQuestionNumber,this.candidateExamDetails=this.candidateExamItemsService.candidateExamDetails,this.currentCandidate=this.candidateAccountService.getUser(),this.isAssessmentOn=!0,this.startTimer(),this.startAutoSave(),this.candidateExamItemsService.getCandidateProcedureItems().forEach(e=>{this.questionIDs.push(e.itemId)}),this.itemsLength=this.questionIDs.length}nextQuestion(){this.candidateExamItemsService.nextQuestion(),this.currentQuestionNumber=this.candidateExamItemsService.currentQuestion.currentQuestionNumber,this.attemptedQuestions=this.standandChoiceRef.getSelectedOptions()}previousQuestion(){this.candidateExamItemsService.previousQuestion(),this.currentQuestionNumber=this.candidateExamItemsService.currentQuestion.currentQuestionNumber,this.attemptedQuestions=this.standandChoiceRef.getSelectedOptions()}endExam(e){this.processingEndExam=!0,this.timerSub$.unsubscribe(),this.autoSaveSub$.unsubscribe(),this.isAssessmentOn=!1,this.candidateExamService.endExam(this.candidateExamDetails.procedureId,e,this.generatePayload()).subscribe({next:r=>{P().close(),this.router.navigate(["candidate/end-exam"])},error:r=>{console.log(r.error.messge),this.processingEndExam=!1},complete:()=>{this.endExamTimerSub$.unsubscribe(),this.processingEndExam=!1}})}ngOnDestroy(){this.timerSub$.unsubscribe(),this.autoSaveSub$.unsubscribe()}startTimer(){this.timerSub$=(0,$.H)(1e3,1e3).subscribe(e=>{this.examEnded||(0==this.candidateExamDetails.seconds?(--this.candidateExamDetails.minute,this.candidateExamDetails.seconds=59):--this.candidateExamDetails.seconds,0==this.candidateExamDetails.minute&&0==this.candidateExamDetails.seconds&&(this.examEnded=!0,this.endExam(!0),1==this.processingEndExam?P().fire({title:"Processing Please wait",allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1,timerProgressBar:!0,didOpen:()=>{P().showLoading()}}):P().fire({title:"Exam submitted!",text:"You ran out of time.",confirmButtonColor:"rgb(3, 142, 220)",icon:"success"})))})}displayTimerText(){let e=this.candidateExamDetails.minute,r=this.candidateExamDetails.seconds;return(e<10?"0"+e:""+e)+" : "+(r<10?"0"+r:""+r)}useShortcut(){for(let e=0;e<this.shortcutKeys.length;e++)this.keyPressed.toLowerCase()===`${this.shortcutKeys[e]}`&&(this.candidateExamItemsService.currentQuestion.selectedOption=this.candidateExamItemsService.currentQuestion.options[`${e}`].id,this.standandChoiceRef.captureResponse(this.candidateExamItemsService.currentQuestion.options[`${e}`].id,this.candidateExamItemsService.currentQuestion.itemId));0!=this.currentQuestionNumber&&"p"===this.keyPressed.toLowerCase()&&this.previousQuestion(),this.currentQuestionNumber+1!=this.itemsLength&&"n"===this.keyPressed.toLowerCase()&&this.nextQuestion()}autoSave(){this.candidateExamService.autoSaveCandidateExam(this.candidateExamDetails.procedureId,this.generatePayload()).subscribe({next:e=>{},error:e=>{console.log(e.error.message)}})}startAutoSave(){!this.isAssessmentOn||(this.autoSaveSub$=(0,$.H)(6e4,6e4).subscribe(e=>{this.autoSave()}))}generatePayload(){return{minute:this.candidateExamDetails.minute,seconds:this.candidateExamDetails.seconds,detailsId:this.candidateExamDetails.examDetailsId,responsesId:this.candidateExamDetails.responsesId,responseSet:this.standandChoiceRef.getSelectedOptions()}}navigator(e){this.candidateExamItemsService.navigateTo(e),this.currentQuestionNumber=this.candidateExamItemsService.currentQuestion.currentQuestionNumber}displayEndExamButton(){return this.attemptedQuestions.length/this.candidateExamDetails.candidateProcedureItems.length*100>=80}openEndExamConfirmationDialog(e){this.modalService.open(e)}endExamTimer(e){this.showExamEndingLoader(),this.endExamTimerSub$=(0,$.H)(0,5e3).subscribe(r=>{1!=this.processingEndExam&&this.endExam(e)})}checkIfAttempted(e){return null!=this.attemptedQuestions.find(o=>o.itemId==e)?"#25a0e2":"f5f7fa"}showExamEndingLoader(){P().fire({title:"Processing Please wait",allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1,timerProgressBar:!0,didOpen:()=>{P().showLoading()}})}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(N.F0),n.\u0275\u0275directiveInject(we),n.\u0275\u0275directiveInject(oe),n.\u0275\u0275directiveInject(re.G),n.\u0275\u0275directiveInject(De),n.\u0275\u0275directiveInject(Oe.FF))},t.\u0275cmp=n.\u0275\u0275defineComponent({type:t,selectors:[["app-exam-page"]],viewQuery:function(e,r){if(1&e&&n.\u0275\u0275viewQuery(Ie,5),2&e){let o;n.\u0275\u0275queryRefresh(o=n.\u0275\u0275loadQuery())&&(r.standandChoiceRef=o.first)}},hostBindings:function(e,r){1&e&&n.\u0275\u0275listener("keypress",function(s){return r.handleKeyboardEvent(s)},!1,n.\u0275\u0275resolveDocument)},decls:3,vars:1,consts:[["class","mt-2 m-2 full-height",4,"ngIf"],["confirmationModal",""],[1,"mt-2","m-2","full-height"],[1,"row"],[1,"col"],[1,"d-flex"],["src","assets/images/users/avatar-7.jpg","alt","candidate-img",1,"img-fluid","rounded-circle","d-none","d-md-block",2,"max-width","80px","max-height","80px"],[1,"m-lg-2","m-sm-0"],[1,"m-0","fw-medium","user-name-text"],[1,"m-0","text-muted","user-name-sub-text","fs-12"],[1,"d-flex","gap-2","mt-3"],[4,"ngFor","ngForOf"],[1,"fw-bold","mb-2","mt-2"],[1,"exam-name","d-flex","justify-content-center"],[1,"d-flex","border","rounded-1","bg-primary","text-white","p-2","btn-md"],[1,"mb-0","fw-medium","user-name-text"],[1,"timer","d-flex","justify-content-end"],[1,"col-xl-3","col-lg-4","p-1","col-sm-6","d-flex","justify-content-center","gap-1","align-items-center","rounded-3","text-center","bg-success"],[1,"ri-timer-line","align-bottom","text-white"],[1,"text-white"],[1,"d-flex","justify-content-end","px-0","btn-sm","align-items-center","text-center"],[1,"card","fs-14","p-2"],[1,"d-flex","justify-content-end"],["class","btn btn-outline-danger p-1",3,"click",4,"ngIf"],[1,"d-flex","justify-content-start","align-items-center","align-content-center","card-footer","foot-bar"],["src","/assets/images/multilent-logo.png","alt","multilent-logo",2,"height","30px"],[1,"col","d-flex","justify-content-end","gap-3"],[1,"btn","btn-outline-primary",3,"disabled","click"],[1,"d-flex","gap-2","justify-content-center","align-content-center","align-items-center"],[1,"ri-arrow-left-s-line"],[1,"btn","btn-primary",3,"disabled","click"],[1,"ri-arrow-right-s-line"],["type","button",1,"btn","btn-light",3,"click"],[1,"btn","btn-outline-danger","p-1",3,"click"],[1,"modal-body","p-5"],[1,"mb-4","text-center"],[1,"text-center","text-muted"],[1,"d-flex","justify-content-center","gap-2","mt-2"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,r){1&e&&(n.\u0275\u0275template(0,Yt,42,12,"div",0),n.\u0275\u0275template(1,qt,11,0,"ng-template",null,1,n.\u0275\u0275templateRefExtractor)),2&e&&n.\u0275\u0275property("ngIf",null!=r.candidateExamDetails&&null!=r.currentCandidate)},directives:[E.NgIf,E.NgForOf,Ie],styles:[".full-height[_ngcontent-%COMP%]{display:flex;flex-direction:column}.foot-bar[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%}.attemptedQuestion[_ngcontent-%COMP%]{background:blue}"]}),t})();function Xt(t,i){1&t&&(n.\u0275\u0275elementStart(0,"span",48),n.\u0275\u0275text(1," Ended"),n.\u0275\u0275elementEnd())}function en(t,i){1&t&&(n.\u0275\u0275elementStart(0,"span",49),n.\u0275\u0275text(1," In progress"),n.\u0275\u0275elementEnd())}function tn(t,i){1&t&&(n.\u0275\u0275elementStart(0,"span",50),n.\u0275\u0275text(1," Not started"),n.\u0275\u0275elementEnd())}function nn(t,i){1&t&&(n.\u0275\u0275elementStart(0,"span"),n.\u0275\u0275text(1,"Continue Exam"),n.\u0275\u0275elementEnd())}function rn(t,i){1&t&&(n.\u0275\u0275elementStart(0,"span"),n.\u0275\u0275text(1,"Start Exam"),n.\u0275\u0275elementEnd())}function on(t,i){1&t&&(n.\u0275\u0275elementStart(0,"span"),n.\u0275\u0275text(1,"Exam ended"),n.\u0275\u0275elementEnd())}function sn(t,i){if(1&t){const e=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"div",37),n.\u0275\u0275elementStart(1,"div",38),n.\u0275\u0275elementStart(2,"div",16),n.\u0275\u0275elementStart(3,"div",39),n.\u0275\u0275elementStart(4,"div",40),n.\u0275\u0275text(5),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(6,"div",41),n.\u0275\u0275elementStart(7,"h6"),n.\u0275\u0275text(8),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(9,"p",24),n.\u0275\u0275template(10,Xt,2,0,"span",42),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(11,"p"),n.\u0275\u0275template(12,en,2,0,"span",43),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(13,"p"),n.\u0275\u0275template(14,tn,2,0,"span",44),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(15,"div",45),n.\u0275\u0275elementStart(16,"button",46),n.\u0275\u0275listener("click",function(){const s=n.\u0275\u0275restoreView(e).$implicit;return n.\u0275\u0275nextContext(2).startExam(s.procedureId,s.candidateDetailsId)}),n.\u0275\u0275template(17,nn,2,0,"span",47),n.\u0275\u0275template(18,rn,2,0,"span",47),n.\u0275\u0275template(19,on,2,0,"span",47),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd()}if(2&t){const e=i.$implicit;n.\u0275\u0275advance(5),n.\u0275\u0275textInterpolate2(" ",e.procedureName.charAt(0),"",e.procedureName.charAt(1)," "),n.\u0275\u0275advance(3),n.\u0275\u0275textInterpolate(e.procedureName),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",null!=e.startTime&&null!=e.endTime),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",null!=e.startTime&&null===e.endTime),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",null===e.startTime&&null===e.endTime),n.\u0275\u0275advance(2),n.\u0275\u0275property("disabled",null!=e.startTime&&null!=e.endTime),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null!=e.startTime&&null===e.endTime),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null===e.startTime&&null===e.endTime),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null!=e.startTime&&null!=e.endTime)}}function an(t,i){if(1&t&&(n.\u0275\u0275elementStart(0,"div",1),n.\u0275\u0275elementStart(1,"div",2),n.\u0275\u0275element(2,"div",3),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(3,"div",4),n.\u0275\u0275elementStart(4,"div",5),n.\u0275\u0275elementStart(5,"div",6),n.\u0275\u0275elementStart(6,"div",7),n.\u0275\u0275element(7,"img",8),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(8,"div",9),n.\u0275\u0275elementStart(9,"div",10),n.\u0275\u0275elementStart(10,"h3",11),n.\u0275\u0275text(11),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(12,"p",12),n.\u0275\u0275text(13),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(14,"div",13),n.\u0275\u0275elementStart(15,"div",10),n.\u0275\u0275elementStart(16,"h4",11),n.\u0275\u0275text(17),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(18,"div",14),n.\u0275\u0275elementStart(19,"div",15),n.\u0275\u0275elementStart(20,"div"),n.\u0275\u0275elementStart(21,"div",16),n.\u0275\u0275elementStart(22,"div",14),n.\u0275\u0275elementStart(23,"div",17),n.\u0275\u0275elementStart(24,"div",18),n.\u0275\u0275elementStart(25,"div",19),n.\u0275\u0275elementStart(26,"h5",20),n.\u0275\u0275text(27,"Candidate Information"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(28,"div",21),n.\u0275\u0275elementStart(29,"table",22),n.\u0275\u0275elementStart(30,"tbody"),n.\u0275\u0275elementStart(31,"tr"),n.\u0275\u0275elementStart(32,"th",23),n.\u0275\u0275text(33,"Full Name :"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(34,"td",24),n.\u0275\u0275text(35),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(36,"tr"),n.\u0275\u0275elementStart(37,"th",23),n.\u0275\u0275text(38,"Exam No. :"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(39,"td",24),n.\u0275\u0275text(40),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(41,"div",25),n.\u0275\u0275elementStart(42,"div",26),n.\u0275\u0275elementStart(43,"h5",27),n.\u0275\u0275text(44,"Keyboard Shortcuts"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(45,"div",28),n.\u0275\u0275elementStart(46,"div",29),n.\u0275\u0275elementStart(47,"div",30),n.\u0275\u0275elementStart(48,"button",31),n.\u0275\u0275elementStart(49,"i",32),n.\u0275\u0275text(50,"A"),n.\u0275\u0275elementEnd(),n.\u0275\u0275text(51," Selects option A "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(52,"button",31),n.\u0275\u0275elementStart(53,"i",32),n.\u0275\u0275text(54,"B"),n.\u0275\u0275elementEnd(),n.\u0275\u0275text(55," Selects option B "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(56,"div",29),n.\u0275\u0275elementStart(57,"div",30),n.\u0275\u0275elementStart(58,"button",31),n.\u0275\u0275elementStart(59,"i",32),n.\u0275\u0275text(60,"C"),n.\u0275\u0275elementEnd(),n.\u0275\u0275text(61," Selects option C "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(62,"button",31),n.\u0275\u0275elementStart(63,"i",32),n.\u0275\u0275text(64,"D"),n.\u0275\u0275elementEnd(),n.\u0275\u0275text(65," Selects option D "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(66,"div",29),n.\u0275\u0275elementStart(67,"div",30),n.\u0275\u0275elementStart(68,"button",31),n.\u0275\u0275elementStart(69,"i",32),n.\u0275\u0275text(70,"N"),n.\u0275\u0275elementEnd(),n.\u0275\u0275text(71," Next Question "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(72,"button",31),n.\u0275\u0275elementStart(73,"i",32),n.\u0275\u0275text(74,"P"),n.\u0275\u0275elementEnd(),n.\u0275\u0275text(75," Previous Question "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(76,"div",33),n.\u0275\u0275elementStart(77,"div",14),n.\u0275\u0275template(78,sn,20,10,"div",34),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(79,"div",25),n.\u0275\u0275elementStart(80,"div",19),n.\u0275\u0275elementStart(81,"h5",35),n.\u0275\u0275text(82,"Candidate Instruction"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(83,"ol"),n.\u0275\u0275elementStart(84,"li",36),n.\u0275\u0275text(85," Make sure that the picture and the exam number on the computer screen are yours. if they are not yours report to the supervisor. < "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(86,"li",36),n.\u0275\u0275text(87," The examination consists of "),n.\u0275\u0275elementStart(88,"strong"),n.\u0275\u0275text(89,"100 OBJECTIVE"),n.\u0275\u0275elementEnd(),n.\u0275\u0275text(90," questions and you are expected to answer all questions. "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(91,"li",36),n.\u0275\u0275text(92," The duration of the examination is "),n.\u0275\u0275elementStart(93,"strong"),n.\u0275\u0275text(94,"1 hour"),n.\u0275\u0275elementEnd(),n.\u0275\u0275text(95," (60 minutes) and you can attempt the questions in any order you wish. "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(96,"li",36),n.\u0275\u0275text(97," If you are not familiar with the use of a computer mouse, use the "),n.\u0275\u0275elementStart(98,"strong"),n.\u0275\u0275elementStart(99,"q"),n.\u0275\u0275text(100,"A"),n.\u0275\u0275elementEnd(),n.\u0275\u0275text(101,","),n.\u0275\u0275elementStart(102,"q"),n.\u0275\u0275text(103,"B"),n.\u0275\u0275elementEnd(),n.\u0275\u0275text(104,","),n.\u0275\u0275elementStart(105,"q"),n.\u0275\u0275text(106,"C"),n.\u0275\u0275elementEnd(),n.\u0275\u0275text(107,","),n.\u0275\u0275elementStart(108,"q"),n.\u0275\u0275text(109,"D"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275text(110," buttons on the keyboard to "),n.\u0275\u0275elementStart(111,"strong"),n.\u0275\u0275text(112,"select an answer"),n.\u0275\u0275elementEnd(),n.\u0275\u0275text(113," and use the "),n.\u0275\u0275elementStart(114,"strong"),n.\u0275\u0275elementStart(115,"q"),n.\u0275\u0275text(116,"N"),n.\u0275\u0275elementEnd(),n.\u0275\u0275text(117," & "),n.\u0275\u0275elementStart(118,"q"),n.\u0275\u0275text(119,"P"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275text(120," buttons on the keyboard to navigate to "),n.\u0275\u0275elementStart(121,"strong"),n.\u0275\u0275text(122," Next and Previous question"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(123,"li",36),n.\u0275\u0275text(124," If you are familiar with the mouse you can select, answers to the next questions by clicking on the option, and you can move to any question by clicking the question number at the bottom of the page. "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(125,"li",36),n.\u0275\u0275text(126," You are free to skip a question and come back to it later. "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(127,"li",36),n.\u0275\u0275text(128," Once a candidate submits his/her exam, it is not possible to go back or undo the submission. "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(129,"li",36),n.\u0275\u0275text(130," If your time is up, the examination will submit itself and you will be logged out. "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd()),2&t){const e=n.\u0275\u0275nextContext();n.\u0275\u0275advance(11),n.\u0275\u0275textInterpolate(e.currentCandidate.name),n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate(e.currentCandidate.examNumber),n.\u0275\u0275advance(4),n.\u0275\u0275textInterpolate(e.currentCandidate.programName),n.\u0275\u0275advance(18),n.\u0275\u0275textInterpolate(e.currentCandidate.name),n.\u0275\u0275advance(5),n.\u0275\u0275textInterpolate(e.currentCandidate.examNumber),n.\u0275\u0275advance(38),n.\u0275\u0275property("ngForOf",e.candidateProcedures)}}const ln=[{path:"instruction",component:(()=>{class t{constructor(e,r,o,s,a){this.router=e,this.candidateExamItemsService=r,this.timeSerivice=o,this.candidateAccountService=s,this.candidateExamService=a,this.timeLeft=10}ngOnInit(){this.getCurrentCandidate(),this.getCandidateProcedures()}startExam(e,r){this.candidateExamService.startExam(e,r).subscribe({next:o=>{this.candidateExamItemsService.candidateExamDetails=o},complete:()=>{this.router.navigate(["candidate/exam"])},error:o=>{console.log(o.error.messge)}})}endExam(){this.router.navigate(["candidate/end-exam"]),console.log("exam has ended")}getCurrentCandidate(){this.currentCandidate=this.candidateAccountService.getUser()}getCandidateProcedures(){this.candidateProcedures=this.currentCandidate.proceduresList}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(N.F0),n.\u0275\u0275directiveInject(oe),n.\u0275\u0275directiveInject(we),n.\u0275\u0275directiveInject(re.G),n.\u0275\u0275directiveInject(De))},t.\u0275cmp=n.\u0275\u0275defineComponent({type:t,selectors:[["instruction-page"]],decls:1,vars:1,consts:[["class","m-2",4,"ngIf"],[1,"m-2"],[1,"profile-foreground","position-relative","mx-n4","mt-n4"],[1,"profile-wid-bg"],[1,"pt-4","mb-4","mb-lg-3","pb-lg-4"],[1,"row","g-1"],[1,"col-auto"],[1,"avatar-lg"],["src","assets/images/users/avatar-7.jpg","alt","user-img",1,"img-thumbnail","rounded-circle"],[1,"col","d-flex"],[1,"p-2"],[1,"text-white","mb-1"],[1,"text-white-75"],[1,"col-lg-10","col-10","d-flex","justify-content-end"],[1,"row"],[1,"col-lg-12"],[1,"d-flex"],[1,"col-xxl-3","mb-3"],[1,"card",2,"height","25vh"],[1,"card-body"],[1,"card-title","mb-3"],[1,"table-responsive"],[1,"table","table-borderless","mb-0"],["scope","row",1,"ps-0"],[1,"text-muted"],[1,"card"],[1,"card-body","m-2"],[1,"card-title","mb-4"],[1,"align-items-start","row","card","p-1"],[1,"col-12","mb-2"],[1,"d-flex","gap-1"],["type","button",1,"btn","btn-sm","btn-primary","btn-label","waves-effect","waves-light"],[1,"label-icon","fs-16"],[1,"col-xxl-9"],["class","col-xxl-4 col-lg-4",4,"ngFor","ngForOf"],[1,"mb-3","card-title"],[1,"mb-2","text-muted"],[1,"col-xxl-4","col-lg-4"],[1,"card","card-body","card-animate"],[1,"avatar-sm","mb-3"],[1,"avatar-title","bg-soft-primary","text-primary","fs-17","rounded"],[1,"align-bottom","col-10","mx-2"],["class","badge badge-soft-danger",4,"ngIf"],["class","badge badge-soft-success",4,"ngIf"],["class","badge badge-soft-primary",4,"ngIf"],[1,"d-flex","justify-content-end"],[1,"btn","btn-sm","btn-primary",3,"disabled","click"],[4,"ngIf"],[1,"badge","badge-soft-danger"],[1,"badge","badge-soft-success"],[1,"badge","badge-soft-primary"]],template:function(e,r){1&e&&n.\u0275\u0275template(0,an,131,6,"div",0),2&e&&n.\u0275\u0275property("ngIf",null!=r.currentCandidate)},directives:[E.NgIf,E.NgForOf],styles:[""]}),t})()},{path:"end-exam",component:Vt},{path:"exam",component:Jt}];let cn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[[N.Bz.forChild(ln)],N.Bz]}),t})();var V=u(3075),Ae=u(3753),dn=u(8514),un=u(8929),Fe=u(7625),mn=u(2986),hn=u(3489);class gn{constructor(i){this.value=i}call(i,e){return e.subscribe(new fn(i,this.value))}}class fn extends hn.L{constructor(i,e){super(i),this.value=e}_next(i){this.destination.next(this.value)}}var _n=u(5154);function vn(t,i){}const W=()=>{const t="undefined"!=typeof window?window:void 0;return t&&t.tinymce?t.tinymce:null};let En=(()=>{class t{constructor(){this.onBeforePaste=new n.EventEmitter,this.onBlur=new n.EventEmitter,this.onClick=new n.EventEmitter,this.onContextMenu=new n.EventEmitter,this.onCopy=new n.EventEmitter,this.onCut=new n.EventEmitter,this.onDblclick=new n.EventEmitter,this.onDrag=new n.EventEmitter,this.onDragDrop=new n.EventEmitter,this.onDragEnd=new n.EventEmitter,this.onDragGesture=new n.EventEmitter,this.onDragOver=new n.EventEmitter,this.onDrop=new n.EventEmitter,this.onFocus=new n.EventEmitter,this.onFocusIn=new n.EventEmitter,this.onFocusOut=new n.EventEmitter,this.onKeyDown=new n.EventEmitter,this.onKeyPress=new n.EventEmitter,this.onKeyUp=new n.EventEmitter,this.onMouseDown=new n.EventEmitter,this.onMouseEnter=new n.EventEmitter,this.onMouseLeave=new n.EventEmitter,this.onMouseMove=new n.EventEmitter,this.onMouseOut=new n.EventEmitter,this.onMouseOver=new n.EventEmitter,this.onMouseUp=new n.EventEmitter,this.onPaste=new n.EventEmitter,this.onSelectionChange=new n.EventEmitter,this.onActivate=new n.EventEmitter,this.onAddUndo=new n.EventEmitter,this.onBeforeAddUndo=new n.EventEmitter,this.onBeforeExecCommand=new n.EventEmitter,this.onBeforeGetContent=new n.EventEmitter,this.onBeforeRenderUI=new n.EventEmitter,this.onBeforeSetContent=new n.EventEmitter,this.onChange=new n.EventEmitter,this.onClearUndos=new n.EventEmitter,this.onDeactivate=new n.EventEmitter,this.onDirty=new n.EventEmitter,this.onExecCommand=new n.EventEmitter,this.onGetContent=new n.EventEmitter,this.onHide=new n.EventEmitter,this.onInit=new n.EventEmitter,this.onInitNgModel=new n.EventEmitter,this.onLoadContent=new n.EventEmitter,this.onNodeChange=new n.EventEmitter,this.onPostProcess=new n.EventEmitter,this.onPostRender=new n.EventEmitter,this.onPreInit=new n.EventEmitter,this.onPreProcess=new n.EventEmitter,this.onProgressState=new n.EventEmitter,this.onRedo=new n.EventEmitter,this.onRemove=new n.EventEmitter,this.onReset=new n.EventEmitter,this.onResizeEditor=new n.EventEmitter,this.onSaveContent=new n.EventEmitter,this.onSetAttrib=new n.EventEmitter,this.onObjectResizeStart=new n.EventEmitter,this.onObjectResized=new n.EventEmitter,this.onObjectSelected=new n.EventEmitter,this.onSetContent=new n.EventEmitter,this.onShow=new n.EventEmitter,this.onSubmit=new n.EventEmitter,this.onUndo=new n.EventEmitter,this.onVisualAid=new n.EventEmitter}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.\u0275\u0275defineDirective({type:t,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),t})();const Ne=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],Z=(t,i,e)=>(0,Ae.R)(t,i).pipe((0,Fe.R)(e)),Pe=(t,i)=>"string"==typeof t?t.split(",").map(e=>e.trim()):Array.isArray(t)?t:i;let Le=0;const Me=t=>void 0!==t&&"textarea"===t.tagName.toLowerCase(),je=t=>void 0===t||""===t?[]:Array.isArray(t)?t:t.split(" "),yn=(t,i)=>je(t).concat(je(i)),Tn=()=>{},ke=t=>null==t,Sn=(()=>{let t={script$:null};return{load:(r,o)=>t.script$||(t.script$=(0,dn.P)(()=>{const s=r.createElement("script");return s.referrerPolicy="origin",s.type="application/javascript",s.src=o,r.head.appendChild(s),(0,Ae.R)(s,"load").pipe((0,mn.q)(1),function pn(t){return i=>i.lift(new gn(t))}(void 0))}).pipe((0,_n.d)({bufferSize:1,refCount:!0}))),reinitialize:()=>{t={script$:null}}}})(),Re=new n.InjectionToken("TINYMCE_SCRIPT_SRC"),In={provide:V.JU,useExisting:(0,n.forwardRef)(()=>wn),multi:!0};let wn=(()=>{class t extends En{constructor(e,r,o,s){super(),this.platformId=o,this.tinymceScriptSrc=s,this.cloudChannel="5",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=Tn,this.destroy$=new un.xQ,this.initialise=()=>{const a=Object.assign(Object.assign({},this.init),{selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:yn(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:l=>{this._editor=l,Z(l,"init",this.destroy$).subscribe(()=>{this.initEditor(l)}),((t,i,e)=>{(t=>{const i=Pe(t.ignoreEvents,[]);return Pe(t.allowedEvents,Ne).filter(r=>Ne.includes(r)&&!i.includes(r))})(t).forEach(o=>{const s=t[o];Z(i,o.substring(2),e).subscribe(a=>{s.observers.length>0&&t.ngZone.run(()=>s.emit({event:a,editor:i}))})})})(this,l,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(l)}});Me(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{W().init(a)})},this._elementRef=e,this.ngZone=r}set disabled(e){this._disabled=e,this._editor&&this._editor.initialized&&this._editor.setMode(e?"readonly":"design")}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(e){this._editor&&this._editor.initialized?this._editor.setContent(ke(e)?"":e):this.initialValue=null===e?void 0:e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e}ngAfterViewInit(){var e;(0,E.isPlatformBrowser)(this.platformId)&&(this.id=this.id||(t=>{const e=(new Date).getTime(),r=Math.floor(1e9*Math.random());return Le++,"tiny-angular_"+r+Le+String(e)})(),this.inline=void 0!==this.inline?!1!==this.inline:!!(null===(e=this.init)||void 0===e?void 0:e.inline),this.createElement(),null!==W()?this.initialise():this._element&&this._element.ownerDocument&&Sn.load(this._element.ownerDocument,this.getScriptSrc()).pipe((0,Fe.R)(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==W()&&W().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,Me(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return ke(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(e){Z(e,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),Z(e,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(e))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{e.setContent(this.initialValue),e.getContent()!==this.initialValue&&this.emitOnChange(e),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(e)})}emitOnChange(e){this.onChangeCallback&&this.onChangeCallback(e.getContent({format:this.outputFormat}))}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(n.ElementRef),n.\u0275\u0275directiveInject(n.NgZone),n.\u0275\u0275directiveInject(n.PLATFORM_ID),n.\u0275\u0275directiveInject(Re,8))},t.\u0275cmp=n.\u0275\u0275defineComponent({type:t,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},features:[n.\u0275\u0275ProvidersFeature([In]),n.\u0275\u0275InheritDefinitionFeature],decls:1,vars:0,template:function(e,r){1&e&&n.\u0275\u0275template(0,vn,0,0,"ng-template")},styles:["[_nghost-%COMP%]{display:block}"]}),t})(),Dn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[[E.CommonModule,V.u5]]}),t})();u(655);const y=function On(t){var i=typeof t;return null!=t&&("object"==i||"function"==i)},$e="object"==typeof global&&global&&global.Object===Object&&global;var Fn="object"==typeof self&&self&&self.Object===Object&&self;const b=$e||Fn||Function("return this")(),L=b.Symbol;var Ve=Object.prototype,Vn=Ve.hasOwnProperty,Hn=Ve.toString,H=L?L.toStringTag:void 0;var zn=Object.prototype.toString;var He=L?L.toStringTag:void 0;const I=function qn(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":He&&He in Object(t)?function Qn(t){var i=Vn.call(t,H),e=t[H];try{t[H]=void 0;var r=!0}catch(s){}var o=Hn.call(t);return r&&(i?t[H]=e:delete t[H]),o}(t):function Gn(t){return zn.call(t)}(t)},T=function Jn(t){return null!=t&&"object"==typeof t};parseInt,Math,Math;const Ke=function _i(t,i){return t===i||t!=t&&i!=i},q=function vi(t,i){for(var e=t.length;e--;)if(Ke(t[e][0],i))return e;return-1};var bi=Array.prototype.splice;function M(t){var i=-1,e=null==t?0:t.length;for(this.clear();++i<e;){var r=t[i];this.set(r[0],r[1])}}M.prototype.clear=function gi(){this.__data__=[],this.size=0},M.prototype.delete=function xi(t){var i=this.__data__,e=q(i,t);return!(e<0||(e==i.length-1?i.pop():bi.call(i,e,1),--this.size,0))},M.prototype.get=function yi(t){var i=this.__data__,e=q(i,t);return e<0?void 0:i[e][1]},M.prototype.has=function Si(t){return q(this.__data__,t)>-1},M.prototype.set=function wi(t,i){var e=this.__data__,r=q(e,t);return r<0?(++this.size,e.push([t,i])):e[r][1]=i,this};const J=M;var t,Hi=b["__core-js_shared__"],Ge=(t=/[^.]+$/.exec(Hi&&Hi.keys&&Hi.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"";var zi=Function.prototype.toString;const w=function Gi(t){if(null!=t){try{return zi.call(t)}catch(i){}try{return t+""}catch(i){}}return""};var Zi=/^\[object .+?Constructor\]$/,er=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const nr=function tr(t){return!(!y(t)||function Qi(t){return!!Ge&&Ge in t}(t))&&(function Vi(t){if(!y(t))return!1;var i=I(t);return"[object Function]"==i||"[object GeneratorFunction]"==i||"[object AsyncFunction]"==i||"[object Proxy]"==i}(t)?er:Zi).test(w(t))},D=function or(t,i){var e=function ir(t,i){return null==t?void 0:t[i]}(t,i);return nr(e)?e:void 0},Q=D(b,"Map"),U=D(Object,"create");var pr=Object.prototype.hasOwnProperty;var vr=Object.prototype.hasOwnProperty;function j(t){var i=-1,e=null==t?0:t.length;for(this.clear();++i<e;){var r=t[i];this.set(r[0],r[1])}}j.prototype.clear=function lr(){this.__data__=U?U(null):{},this.size=0},j.prototype.delete=function dr(t){var i=this.has(t)&&delete this.__data__[t];return this.size-=i?1:0,i},j.prototype.get=function gr(t){var i=this.__data__;if(U){var e=i[t];return"__lodash_hash_undefined__"===e?void 0:e}return pr.call(i,t)?i[t]:void 0},j.prototype.has=function Er(t){var i=this.__data__;return U?void 0!==i[t]:vr.call(i,t)},j.prototype.set=function Cr(t,i){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=U&&void 0===i?"__lodash_hash_undefined__":i,this};const We=j,X=function Dr(t,i){var e=t.__data__;return function Ir(t){var i=typeof t;return"string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==t:null===t}(i)?e["string"==typeof i?"string":"hash"]:e.map};function k(t){var i=-1,e=null==t?0:t.length;for(this.clear();++i<e;){var r=t[i];this.set(r[0],r[1])}}k.prototype.clear=function Tr(){this.size=0,this.__data__={hash:new We,map:new(Q||J),string:new We}},k.prototype.delete=function Or(t){var i=X(this,t).delete(t);return this.size-=i?1:0,i},k.prototype.get=function Fr(t){return X(this,t).get(t)},k.prototype.has=function Pr(t){return X(this,t).has(t)},k.prototype.set=function Mr(t,i){var e=X(this,t),r=e.size;return e.set(t,i),this.size+=e.size==r?0:1,this};const kr=k;function B(t){var i=this.__data__=new J(t);this.size=i.size}B.prototype.clear=function Oi(){this.__data__=new J,this.size=0},B.prototype.delete=function Fi(t){var i=this.__data__,e=i.delete(t);return this.size=i.size,e},B.prototype.get=function Pi(t){return this.__data__.get(t)},B.prototype.has=function Mi(t){return this.__data__.has(t)},B.prototype.set=function Rr(t,i){var e=this.__data__;if(e instanceof J){var r=e.__data__;if(!Q||r.length<199)return r.push([t,i]),this.size=++e.size,this;e=this.__data__=new kr(r)}return e.set(t,i),this.size=e.size,this},function(){try{D(Object,"defineProperty")({},"",{})}catch(i){}}();!function Xr(t){T(t)&&I(t)}(function(){return arguments}()),"object"==typeof exports&&exports&&!exports.nodeType&&exports&&"object"==typeof module&&module&&!module.nodeType&&module;var h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h["[object Arguments]"]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h["[object Map]"]=h["[object Number]"]=h["[object Object]"]=h["[object RegExp]"]=h["[object Set]"]=h["[object String]"]=h["[object WeakMap]"]=!1;const de=function Qo(t){return function(i){return t(i)}};var ot="object"==typeof exports&&exports&&!exports.nodeType&&exports,K=ot&&"object"==typeof module&&module&&!module.nodeType&&module,ue=K&&K.exports===ot&&$e.process;const R=function(){try{return K&&K.require&&K.require("util").types||ue&&ue.binding&&ue.binding("util")}catch(i){}}();var st=R&&R.isTypedArray;st&&de(st);const lt=function Xo(t,i){return function(e){return t(i(e))}};lt(Object.keys,Object),"object"==typeof exports&&exports&&!exports.nodeType&&exports&&"object"==typeof module&&module&&!module.nodeType&&module,lt(Object.getPrototypeOf,Object);const _e=D(b,"DataView"),ve=D(b,"Promise"),Ee=D(b,"Set"),be=D(b,"WeakMap");var Et="[object Map]",bt="[object Promise]",xt="[object Set]",Ct="[object WeakMap]",yt="[object DataView]",Ws=w(_e),Zs=w(Q),Ys=w(ve),qs=w(Ee),Js=w(be),O=I;(_e&&O(new _e(new ArrayBuffer(1)))!=yt||Q&&O(new Q)!=Et||ve&&O(ve.resolve())!=bt||Ee&&O(new Ee)!=xt||be&&O(new be)!=Ct)&&(O=function(t){var i=I(t),e="[object Object]"==i?t.constructor:void 0,r=e?w(e):"";if(r)switch(r){case Ws:return yt;case Zs:return Et;case Ys:return bt;case qs:return xt;case Js:return Ct}return i});var Dt=R&&R.isMap;Dt&&de(Dt);var Ot=R&&R.isSet;Ot&&de(Ot);var m={};m["[object Arguments]"]=m["[object Array]"]=m["[object ArrayBuffer]"]=m["[object DataView]"]=m["[object Boolean]"]=m["[object Date]"]=m["[object Float32Array]"]=m["[object Float64Array]"]=m["[object Int8Array]"]=m["[object Int16Array]"]=m["[object Int32Array]"]=m["[object Map]"]=m["[object Number]"]=m["[object Object]"]=m["[object RegExp]"]=m["[object Set]"]=m["[object String]"]=m["[object Symbol]"]=m["[object Uint8Array]"]=m["[object Uint8ClampedArray]"]=m["[object Uint16Array]"]=m["[object Uint32Array]"]=!0,m["[object Error]"]=m["[object Function]"]=m["[object WeakMap]"]=!1,Function.prototype.toString.call(Object),u(7224),new Array(256).fill(0).map((t,i)=>("0"+i.toString(16)).slice(-2));let Ul=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[[V.u5,E.CommonModule]]}),t})();u(352),u(8139);RegExp(/[&<>"']/g.source);const xc=new n.InjectionToken("ng-select-selection-model");function Cc(){return new yc}class yc{constructor(){this._selected=[]}get value(){return this._selected}select(i,e,r){if(i.selected=!0,(!i.children||!e&&r)&&this._selected.push(i),e)if(i.parent){const o=i.parent.children.length,s=i.parent.children.filter(a=>a.selected).length;i.parent.selected=o===s}else i.children&&(this._setChildrenSelectedState(i.children,!0),this._removeChildren(i),this._selected=r&&this._activeChildren(i)?[...this._selected.filter(o=>o.parent!==i),i]:[...this._selected,...i.children.filter(o=>!o.disabled)])}unselect(i,e){if(this._selected=this._selected.filter(r=>r!==i),i.selected=!1,e)if(i.parent&&i.parent.selected){const r=i.parent.children;this._removeParent(i.parent),this._removeChildren(i.parent),this._selected.push(...r.filter(o=>o!==i&&!o.disabled)),i.parent.selected=!1}else i.children&&(this._setChildrenSelectedState(i.children,!1),this._removeChildren(i))}clear(i){this._selected=i?this._selected.filter(e=>e.disabled):[]}_setChildrenSelectedState(i,e){for(const r of i)r.disabled||(r.selected=e)}_removeChildren(i){this._selected=[...this._selected.filter(e=>e.parent!==i),...i.children.filter(e=>e.parent===i&&e.disabled&&e.selected)]}_removeParent(i){this._selected=this._selected.filter(e=>e!==i)}_activeChildren(i){return i.children.every(e=>!e.disabled||e.selected)}}let Tc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({providers:[{provide:xc,useValue:Cc}],imports:[[E.CommonModule]]}),t})();var Sc=u(7303);let Ic=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({providers:[{provide:Re,useValue:"tinymce/tinymce.min.js"}],imports:[[E.CommonModule,cn,V.u5,Dn,Oe.XC,Ul,Tc,Sc.t]]}),t})()}}]);