<app-breadcrumbs
  title="MONITOR VIVA"
  [breadcrumbItems]="breadCrumbItems"
></app-breadcrumbs>

<div class="row">
  <div class="col-12">
    <div class="row">
      <div class="col-xxl-6 col-lg-6">
        <div class="card card-body card-hover">
          <div class="d-flex justify-content-between">
            <div class="avatar-sm">
              <div
                class="avatar-title bg-soft-primary text-primary fs-17 rounded"
              >
                <i class="ri-time-line"></i>
              </div>
            </div>
            <div class="text-end">
              <h6>Exam Timer</h6>
              <h2>
                {{ vivaMonitor.startTime.hour }}:{{
                  vivaMonitor.startTime.minute
                }}
              </h2>
            </div>
          </div>
        </div>
      </div>

      <div class="col-xxl-6 col-lg-6">
        <div class="card card-body card-hover">
          <div class="d-flex justify-content-between">
            <div class="avatar-sm">
              <div
                class="avatar-title bg-soft-primary text-primary fs-17 rounded"
              >
                <i class="ri-radar-line"></i>
              </div>
            </div>
            <div class="text-end">
              <h6>Monitoring Server</h6>
              <h2 class="text-success">
                {{ vivaMonitor.connectedToMonitoring }}
              </h2>
            </div>
          </div>
        </div>
      </div>
      <div
        class="col-xl-4 col-md-6"
        *ngFor="let viva of vivaMonitor.progressGraph; let i = index"
      >
        <div class="card card-animate">
          <div class="card-body">
            <h6 class="text-uppercase">{{ viva.programName }}</h6>
            <div class="d-flex align-items-center">
              <div class="flex-grow-1">
                <p class="text-muted fw-medium mb-0 fw-medium">
                  VIVA name goes here
                </p>
              </div>
            </div>
            <div class="d-flex align-items-end justify-content-between mt-4">
              <div>
                <div>
                  <h4 class="fs-22 fw-semibold ff-secondary mb-1">
                    {{ viva.candidateCompletedCount }}/<span
                      class="counter-value"
                    ></span>
                    {{ viva.candidateCount }}
                  </h4>

                  <p class="text-muted">Completed</p>

                  <div class="">
                    <h5 class="text-success fs-14 mb-0">
                      <i class="align-middle fs-13 ri-arrow-right-up-line"></i>
                      40%
                    </h5>
                  </div>
                </div>
              </div>
              <!-- <a href="javascript:void(0);" class="text-decoration-underline">Completed Status</a> -->
              <div class="avatar-sm flex-shrink-0">
                <span class="avatar-title bg-soft-primary rounded fs-3">
                  <i class="align-middle fs-18 mdi me-2 text-info"> {{i + 1}}</i>
                </span>
              </div>
            </div>
          </div>
          <!-- end card body -->
        </div>
      </div>
    </div>
    <!-- end row -->
  </div>
  <!-- end col -->
</div>
<!-- end row -->

<div class="card">
  <div class="card-body">
    <h6 class="mb-3">All candidates assigned to this exam</h6>
    <div class="d-flex justify-content-between">
      <div class="search-box d-inline-block mb-2">
        <input
          type="text"
          class="form-control search"
          placeholder="Search exam number..."
        />
        <i class="ri-search-line search-icon"></i>
      </div>

      <select class="form-select mb-3 w-25">
        <option disabled selected>Filter by program</option>
        <option value="1">BASIC NURSING</option>
        <option value="2">ORTHOLOGY</option>
        <option value="3">NURSING MATHS</option>
      </select>
    </div>
    <div class="table-responsive">
      <table class="table table-gridjs">
        <thead>
          <tr>
            <th class="sort" data-sort="name">Name</th>
            <th class="sort" data-sort="exam-no">Exam NO.</th>
            <th class="sort" data-sort="program">Program</th>
            <th class="sort" data-sort="examiner">Examiner</th>
            <th class="sort" data-sort="institution">Institution</th>
            <th class="sort" data-sort="status">Status</th>
          </tr>
        </thead>
        <tbody *ngFor="let candidate of vivaMonitor.candidateList">
          <tr>
            <td>{{ candidate.name }}</td>
            <td>{{ candidate.examNumber }}</td>
            <td>{{ candidate.programName }}</td>
            <td>{{ candidate.examinerName }}</td>
            <td>{{ candidate.institution }}</td>
            <td><span class="badge badge-success">Completed</span></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
